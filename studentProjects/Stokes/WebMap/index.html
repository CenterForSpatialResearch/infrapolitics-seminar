<html>
<head>
	<title>Human Impacts Map</title>

	<link rel="stylesheet"  href="css/leaflet.css"/>

	<script src="js/leaflet.js"></script>

	<script src="js/jquery-3.2.1.min.js">  </script>

	<style>
	#map{position:absolute; top:0; bottom:0; left:0; width: 100%;}
	</style>


</head>
<body>
	<div id="map"></div>

	<script>
//initializing the map
	var map = L.map('map').setView([19.076186, 72.884840], 10.5);

//add background tile layers
	L.tileLayer('http://tile.stamen.com/toner-lite/{z}/{x}/{y}.png',
		{
			attribution: 'Tiles from <a href="http://www.openstreetmap.org/">OSM by Stamen Design</a>',
		maxZoom: 19,
		minZoom: 1
		}).addTo(map);

//define new marker
var myIconRed = L.icon({
iconUrl: 'css/images/RedIcon.png',
  iconSize: [25, 25],
  popupAnchor: [0, -28],
});

var myIconTeal = L.icon({
iconUrl: 'css/images/TealIcon.png',
  iconSize: [25, 25],
  popupAnchor: [0, -28]
});


//load GeoJSON file containing sites, and style points 2005
$.getJSON('data/ArticlesMapped_2005.geojson',function(data){
	    	L.geoJson(data, {
	    	pointToLayer: function(feature, latlng) {
		return L.marker(latlng, {
		icon: myIconRed});
	},
	    	onEachFeature: onEachFeature,
	    	}).addTo(map);
	    });

//define popup content for site annotations

function onEachFeature(feature, layer) {
    // does this feature have a property named popupContent?
    if (feature.properties && feature.properties.Quote) {
        layer.bindPopup(feature.properties.DatePlace + '<br/>' + feature.properties.Quote  + '<br/>' + feature.properties.LinkForWeb);
    }
}

//2017load GeoJSON file containing sites, and style points 2005
$.getJSON('data/ArticlesMapped_2017.geojson',function(data){
	    	L.geoJson(data, {
	    	pointToLayer: function(feature, latlng) {
		return L.marker(latlng, {
		icon: myIconTeal});
	},
	    	onEachFeature: onEachFeature,
	    	}).addTo(map);
	    });

//define popup content for site annotations

function onEachFeature(feature, layer) {
    // does this feature have a property named popupContent?
    if (feature.properties && feature.properties.Quote) {
        layer.bindPopup(feature.properties.DatePlace + '<br/>' + feature.properties.Quote  + '<br/>' + feature.properties.LinkForWeb);
    }
}


	</script>
</body>
</html>
